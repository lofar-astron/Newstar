<HEAD>
<TITLE>No Title</TITLE>
</HEAD>
<BODY><P>
 <b>Private parameters for program NCLEAN</b> 
<A NAME=.contents><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<P><H2><A NAME=SECTION0001000000000000000>Contents</A></H2>
<UL> 
<LI> <A NAME=tex2html1 HREF=nclean_private_intfc.html#SECTION0001000000000000000>Contents</A>
<LI> <A NAME=tex2html2 HREF=nclean_private_intfc.html#SECTION0002000000000000000>  <b>Overview</b></A>
<LI> <A NAME=tex2html3 HREF=nclean_private_intfc.html#SECTION0003000000000000000>  <b>Descriptions of the individual parameters</b></A>
<UL> 
<LI> <A NAME=tex2html4 HREF=nclean_private_intfc.html#SECTION0003100000000000000>  <b>References to public interfaces</b></A>
<LI> <A NAME=tex2html5 HREF=nclean_private_intfc.html#SECTION0003200000000000000>  <b>Parameter AP_WMP_SET</b></A>
<LI> <A NAME=tex2html6 HREF=nclean_private_intfc.html#SECTION0003300000000000000>  <b>Parameter AREA</b></A>
<LI> <A NAME=tex2html7 HREF=nclean_private_intfc.html#SECTION0003400000000000000>  <b>Parameter CLEAN_LIMIT</b></A>
<LI> <A NAME=tex2html8 HREF=nclean_private_intfc.html#SECTION0003500000000000000>  <b>Parameter CLIP_AREA</b></A>
<LI> <A NAME=tex2html9 HREF=nclean_private_intfc.html#SECTION0003600000000000000>  <b>Parameter CLIP_LEVELS</b></A>
<LI> <A NAME=tex2html10 HREF=nclean_private_intfc.html#SECTION0003700000000000000>  <b>Parameter CMEMORY_USE</b></A>
<LI> <A NAME=tex2html11 HREF=nclean_private_intfc.html#SECTION0003800000000000000>  <b>Parameter COMPON_LIMIT</b></A>
<LI> <A NAME=tex2html12 HREF=nclean_private_intfc.html#SECTION0003900000000000000>  <b>Parameter COMPON_LOG</b></A>
<LI> <A NAME=tex2html13 HREF=nclean_private_intfc.html#SECTION00031000000000000000>  <b>Parameter CYCLE_DEPTH</b></A>
<LI> <A NAME=tex2html14 HREF=nclean_private_intfc.html#SECTION00031100000000000000>  <b>Parameter DATA_FACTOR</b></A>
<LI> <A NAME=tex2html15 HREF=nclean_private_intfc.html#SECTION00031200000000000000>  <b>Parameter DECONVOLUTION</b></A>
<LI> <A NAME=tex2html16 HREF=nclean_private_intfc.html#SECTION00031300000000000000>  <b>Parameter DMEMORY_USE</b></A>
<LI> <A NAME=tex2html17 HREF=nclean_private_intfc.html#SECTION00031400000000000000>  <b>Parameter GRATING_FACTOR</b></A>
<LI> <A NAME=tex2html18 HREF=nclean_private_intfc.html#SECTION00031500000000000000>  <b>Parameter LOOP_GAIN</b></A>
<LI> <A NAME=tex2html19 HREF=nclean_private_intfc.html#SECTION00031600000000000000>  <b>Parameter MAP_FACTOR</b></A>
<LI> <A NAME=tex2html20 HREF=nclean_private_intfc.html#SECTION00031700000000000000>  <b>Parameter OPTION</b></A>
<LI> <A NAME=tex2html21 HREF=nclean_private_intfc.html#SECTION00031800000000000000>  <b>Parameter PRUSSIAN_HAT</b></A>
<LI> <A NAME=tex2html22 HREF=nclean_private_intfc.html#SECTION00031900000000000000>  <b>Parameter RESIDUAL</b></A>
<LI> <A NAME=tex2html23 HREF=nclean_private_intfc.html#SECTION00032000000000000000>  <b>Parameter RESTORE</b></A>
<LI> <A NAME=tex2html24 HREF=nclean_private_intfc.html#SECTION00032100000000000000>  <b>Parameter RESTORE_BEAM</b></A>
<LI> <A NAME=tex2html25 HREF=nclean_private_intfc.html#SECTION00032200000000000000>  <b>Parameter WMP_SETS0</b></A>
</UL>
</UL>
<H1><A NAME=SECTION0002000000000000000>  <b>Overview</b></A></H1>
<P>
        This document contains an overview of the parameter interface of the program NCLEAN. The program also uses a number of public interfaces; references to these are also <A HREF="#.public">listed</A>. 
show that 
        The remainder of the document describes the individual parameters in alphabetical order. This description centers on the Help texts, which have been designed to guide the user to the proper choice at each junction, even if his knowledge of the overall workings of the program is only superficial.
<P>
<A NAME=.descriptions><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A> 
<H1><A NAME=SECTION0003000000000000000>  <b>Descriptions of the individual parameters</b></A></H1>
<P>
<A NAME=.public><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A> 
<H2><A NAME=SECTION0003100000000000000>  <b>References to public interfaces</b></A></H2>
<P>
<em>See also:</em> 
<UL><LI> <A HREF="../introduction/introduction.html#.user.interface">DWARF</A> user interface 
<LI> <A HREF="../mdlnode_public_intfc/mdlnode_public_intfc.html">MDLNODE</A> public keywords 
<LI> <A HREF="../ngen_public_intfc/ngen_public_intfc.html">NGEN</A> public keywords 
<LI> <A HREF="../nmap_public_intfc/nmap_public_intfc.html">NMAP</A> public keywords 
<LI> <A HREF="../nmodel_public_intfc/nmodel_public_intfc.html">NMODEL</A> public keywords 
<LI> <A HREF="../scnnode_public_intfc/scnnode_public_intfc.html">SCNNODE</A> public keywords 
<LI> <A HREF="../scnsets_public_intfc/scnsets_public_intfc.html">SCNSETS</A> public keywords 
<LI> <A HREF="../select_public_intfc/select_public_intfc.html">SELECT</A> public keywords 
<LI> <A HREF="../wmpnode_public_intfc/wmpnode_public_intfc.html">WMPNODE</A> public keywords 
<LI> <A HREF="../wmpsets_public_intfc/wmpsets_public_intfc.html">WMPSETS</A> public keywords 
</UL>
<P>
<A NAME=.ap.wmp.set><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A> 
<H2><A NAME=SECTION0003200000000000000>  <b>Parameter AP_WMP_SET</b></A></H2>
<P>
  <em>Prompt:</em> ONE antenna pattern (grp.fld.chn.pol.1.seq)<BR><em>Expected input:</em> Character *32:  1 to 1 values
<P>
    <PRE>
Specify ONE antenna pattern
                (group.field.channel.polarisation.type(=1).sequence_number)
</PRE>
<P>
<A NAME=.area><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION0003300000000000000>  <b>Parameter AREA</b></A></H2>
<P>
<em>Prompt:</em> Window area l,m,dl,dm<BR><em>Expected input:</em> Integer:  1 to 4 values
<P>
  <PRE>
The CLEAN window is defined as the union of up to 32 rectangular areas (which
may arbitrarily overlap). For BEAM clean this is also the window within which
source responses will be subtracted.
</PRE>
<P>
  <PRE>
You are being prompted for these areas one by one until you give a null reply
(<CR> only). An area is specified by four numbers: l,m, dl,dm, where
</PRE>
<P>
  <PRE>
   l,m     l and m in grid points for the area centre; (l,m)=(0,0) at the map
            centre, increasing toward the upper right (i.e. with decreasing RA
            and increasing DEC)
   dl,dm   width and height of the area in grid points
</PRE>
<P>
<A NAME=.clean.limit><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION0003400000000000000>  <b>Parameter CLEAN_LIMIT</b></A></H2>
<P>
<em>Prompt:</em> Limit in fraction of map maximum<BR><em>Expected input:</em> Real:  1 value
<P>
  <PRE>
Specify the level to which to clean in fraction of the initial map maximum.
</PRE>
<P>
<A NAME=.clip.area><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION0003500000000000000>  <b>Parameter CLIP_AREA</b></A></H2>
<P>
<em>Prompt:</em> UV-radius range for clipping (m)<BR><em>Expected input:</em> Real:  1 to 2 values
<P>
  <PRE>
Specify the (circular) UV-plane radii (in metres) between which you want to
clip the data. The default is to clip everywhere.
</PRE>
<P>
<A NAME=.clip.levels><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION0003600000000000000>  <b>Parameter CLIP_LEVELS</b></A></H2>
<P>
<em>Prompt:</em> Amplitude range to be discarded<BR><em>Expected input:</em> Real:  1 to 2 values
<P>
  <PRE>
Specify amplitude range (in Westerbork Units) of visibility magnitudes that you
want to discard.
</PRE>
<P>
  <PRE>
In the annulus defined by CLIP_AREA, values between the limits you specify will
be discarded.
</PRE> 
 <em>parameter <A HREF="#.clip.area">CLIP_AREA</A> </em>
<P>
  <PRE>
NOTE: It would be more natural to define a range within which visibilities are
considered valid. As it is, only the lower limit is actually useful, allowing
you to define a rejection threshold for interference. To do so, specify your
threshold for the lower and 'infinity' for the upper limit, e.g.
</PRE>
<P>
  <PRE>
                <threshold>,100000
</PRE>
<P>
<A NAME=.cmemory.use><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION0003700000000000000>  <b>Parameter CMEMORY_USE</b></A></H2>
<P>
<em>Prompt:</em> UV-clean memory size<BR><em>Expected input:</em> Integer:  1 value
<P>
  <PRE>
Specify the work memory size in bytes for the UV Clean option, to be allowed in
defining the beam patch and to be used in executing the Fourier transforms.
</PRE>
<P>
  <PRE>
The default shown is normally adequate; a larger value may speed up the
execution of major cycles in UV Clean.
</PRE>
<P>
  <PRE>
NCLEAN will not accept a value in excess of 4000000 (4 MB).
</PRE>
<P>
<A NAME=.compon.limit><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION0003800000000000000>  <b>Parameter COMPON_LIMIT</b></A></H2>
<P>
<em>Prompt:</em> Maximum number of components to find<BR><em>Expected input:</em> Integer:  1 value
<P>
  <PRE>
Specify the maximum number of components to be cleaned.
</PRE>
<P>
<A NAME=.compon.log><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION0003900000000000000>  <b>Parameter COMPON_LOG</b></A></H2>
<P>
<em>Prompt:</em> Reporting interval for components found: | terminal, printer<BR><em>Expected input:</em> Integer:  1 to 2 values
<P>
  <PRE>
You may give two numbers <n> here, indicating that every <n>-th component must
be reported. The first number applies to your terminal window, the second to
the log file. A value of 0 means 'no reporting at all.
</PRE>
<P>
  <PRE>
Example:
        2,0 specifies that every other component will be typed, and none logged.
</PRE>
<P>
<A NAME=.cycle.depth><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION00031000000000000000>  <b>Parameter CYCLE_DEPTH</b></A></H2>
<P>
<em>Prompt:</em> Major cycle depth<BR><em>Expected input:</em> Real:  1 value
<P>
  <PRE>
Specify the level relative to the initial map maximum in the CLEAN window to
which you want to clean in one major cycle.
</PRE>
<P>
<A NAME=.data.factor><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION00031100000000000000>  <b>Parameter DATA_FACTOR</b></A></H2>
<P>
<em>Prompt:</em> Data multiplication factor<BR><em>Expected input:</em> Real:  1 value
<P>
  <PRE>
Specify the factor by which to multiply the input map-data.
</PRE>
<P>
  <PRE>
This option is only relevant for DATA clean. The first input-map and all maps
created by DATA clean will be multiplied by this factor.
</PRE>
<P>
<A NAME=.deconvolution><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION00031200000000000000>  <b>Parameter DECONVOLUTION</b></A></H2>
<P>
<em>Prompt:</em> Correct antenna pattern for mapping taper: YES/NO<BR><em>Expected input:</em> Yes/No:  1 value
<P>
  <PRE>
The gridding convolution in map-making is usually compensated for by
multiplying the output map and antenna pattern with a taper function that rises
toward the map edges.
</PRE>
<P>
  <PRE>
If this is the case, answering YES here will instruct the program to account
for this effect; this will reduce the aliasing errors in the residual map,
allowing you to clean a somewhat larger part of the map. YES will in general
produce a result with less aliasing, NO the reverse.
</PRE>
<P>
<A NAME=.dmemory.use><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION00031300000000000000>  <b>Parameter DMEMORY_USE</b></A></H2>
<P>
<em>Prompt:</em> Work memory size<BR><em>Expected input:</em> Integer:  1 value
<P>
  <PRE>
The memory workspace in bytes needed is 12 times the size of the rectangle
enclosing all selected areas in the map plane. NCLEAN normally allocates up to
300 KB for this purpose. To satisfy the present need, you must either accept
the value suggested here or specify a smaller set of areas, or both.
</PRE>
<P>
  <PRE>
NCLEAN will not accept a value in excess of 4000000 (4 MB).
</PRE>
<P>
<A NAME=.grating.factor><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION00031400000000000000>  <b>Parameter GRATING_FACTOR</b></A></H2>
<P>
<em>Prompt:</em> Grating factor<BR><em>Expected input:</em> Real:  1 value
<P>
  <PRE>
In the minor cycles of UVCOVER, DATA and COMPON clean, the maximum error made
in only subtracting part of the antenna pattern is estimated by <number of
sources> times <ypical sidelobe level in antenna pattern> times GRATING_FACTOR.
</PRE>
<P>
  <PRE>
You may lower this latter factor if you are not worried about the effects of
far-out sidelobes on the minor-cycle cleaning process. A lower value will allow
more source components to be collected in minor cycles before a major cycle
must be started.
</PRE>
<P>
<A NAME=.loop.gain><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION00031500000000000000>  <b>Parameter LOOP_GAIN</b></A></H2>
<P>
<em>Prompt:</em> Clean loop-gain factor<BR><em>Expected input:</em> Real:  1 value
<P>
  <PRE>
For each component found, the antenna pattern shifted to its position is
subtracted from the CLEAN window. To prevent overshoots, it is customary to
subtract not the complete component but only a fraction of it. The magnitude of
this fraction is defined here.
</PRE>
<P>
<A NAME=.map.factor><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION00031600000000000000>  <b>Parameter MAP_FACTOR</b></A></H2>
<P>
<em>Prompt:</em> Multiplication factor<BR><em>Expected input:</em> Real:  1 value
<P>
  <PRE>
Specify the factor by which to multiply the residual map before restoring.
</PRE>
<P>
  <PRE>
Normally one should use the default value of 1; a value of 0 serves to make a
map of the CLEAN components only.
</PRE>
<P>
<A NAME=.option><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION00031700000000000000>  <b>Parameter OPTION</b></A></H2>
<P>
<em>Prompt:</em> Operation wanted<BR><em>Expected input:</em> Character *24:  1 value
<P>
  <PRE>
CLEANing:
</PRE>
<P>
  <PRE>
   BEAM         Hogbom clean: Use the map and the beam to clean. This
                 method is inaccurate away from the map centre due to the
                 aliasing associated with visibility gridding.
</PRE>
<P>
  <PRE>
   UVCOVER      Standard Clark Clean: Find and provisionally subtract sources
                 in some map areas first (minor cycles), then properly subtract
                 the sources found (major cycle). The number of minor cycles
                 between major cycles is determined by the program; the user can
                 steer this through a few control parameters.
                The method suffers from the same limitations as BEAM, but is
                 faster for cleaning extended sources.
</PRE>
<P>
  <PRE>
   DATA         Cotton-Schwab Clean: Find sources as in UVCOVER, but perform
                 the major cycle on the original SCN-file visibilities, making a
                 new map from the residuals as input for the next major cycle.
                 This method rigorously avoids the aliasing limitations of BEAM
                 and UVCOVER, at the price of being very much slower.
</PRE>
<P>
  <PRE>
   UREST        Use a clean component list and a map to restore the clean
                 components in the map.
</PRE>
<P>
  <PRE>
For exploring the data before committing more serious work:
</PRE>
<P>
  <PRE>
   HISTO        Produce only a histogram of selected areas in the map and/or
                 antenna pattern
</PRE>
<P>
  <PRE>
   COMPON       Execute minor cycles as for UVCOVER, but omit the following
                 major cycle. The result is a source model and a map in which
                 these sources are provisionally subtracted in selected areas.
                It is the fastest of the four CLEAN variants but produces an
                 inaccurate residual map.
                This option may be used to quickly get a feel for the
                 minor-cycle control of UVCOVER and DATA Clean, or to make an
                 initial data model for NCALIB SELFCAL or NMODEL UPDATE.
</PRE>
<P>
  <PRE>
Other options:
</PRE>
<P>
  <PRE>
   QUIT          Terminate NCLEAN.
</PRE>
<P>
<A NAME=.prussian.hat><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION00031800000000000000>  <b>Parameter PRUSSIAN_HAT</b></A></H2>
<P>
<em>Prompt:</em> Prussian hat value<BR><em>Expected input:</em> Real:  1 value
<P>
  <PRE>
For extended sources a prussian hat (i.e. a nominal additional peak value on
the central value of the antenna pattern) may give better clean results. Values
of .1 to .4 could be tried.
</PRE> 
                       Cornwell
<P>
<A NAME=.residual><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION00031900000000000000>  <b>Parameter RESIDUAL</b></A></H2>
<P>
 residual map?<BR><em>Expected input:</em> Yes/No:  1 value
<P>
  <PRE>
Specify if the residual map must be written.
</PRE>
<P>
  <PRE>
For BEAM and UVCOVER cleaning, this map is an automatic by-product of the
process and the choice is whether or not to write it to the .WMP file. The map
will be given the same indices as the input map except for an incremented
sequence number.
</PRE>
<P>
  <PRE>
For UVDAT cleaning, the residual map must be constructed by making a new map
from the original visibilities, in which the CLEAN components just found are
subtracted. The new map will OVERWRITE the input map.
</PRE> 
               <em>See elsewhere for the 
               <A HREF="../nclean_descr/nclean_descr.html#.residual.map">rationale</A> </em>
<P>
<A NAME=.restore><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION00032000000000000000>  <b>Parameter RESTORE</b></A></H2>
<P>
<em>Prompt:</em> restored map (YES/NO)?<BR><em>Expected input:</em> Yes/No:  1 value
<P>
  <PRE>
Specify if a restored map must be written.
</PRE>
<P>
  <PRE>
A restored map consists of the CLEAN components convolved with a hypothetical
beam that has no sidelobes, superimposed on the residuals. It is an
approximation to  what you would have observed with complete contiguous UV
coverage (hoth in hour angle and baseline) up to the longest baseline available.
</PRE>
<P>
  <PRE>
You will be given the option to suppress the residuals (parameter MAP_FACTOR),
in which case you get a map of the CLEAN components only.
</PRE>
<P>
<A NAME=.restore.beam><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION00032100000000000000>  <b>Parameter RESTORE_BEAM</b></A></H2>
<P>
<em>Prompt:</em> dl, dm arcsec, pa deg<BR><em>Expected input:</em> Real:  1 to 3 values
<P>
  <PRE>
Specify the restore beam width:
</PRE>
<P>
  <PRE>
   dl      width of beam in arcsec (full-halfwidth)
</PRE>
<P>
  <PRE>
   dm      width of beam in arcsec (full-halfwidth)
</PRE>
<P>
  <PRE>
   pa      position angle of skewed beam in degrees (anti-clockwise;
            0 deg is horizontally to the right (+l direction)
</PRE>
<P>
  <PRE>
The default beam is a two-dimensional Gaussian truncated at a level of .xx
relative to the maxiumum. If an antenna pattern for your map is available, the
l,m beam widths are derived from it; else a rule-of-thumb formula is used:
</PRE>
<P>
  <PRE>
        half-width = 12 arcsec * 1400/frequency(MHz)
</PRE>
<P>
<A NAME=.wmp.sets0><IMG ALIGN=MIDDLE SRC="../icons/invis_anchor.png"></A>
<H2><A NAME=SECTION00032200000000000000>  <b>Parameter WMP_SETS0</b></A></H2>
<P>
<em>Prompt:</em> ONE input map: grp.fld.chn.pol.0.seq<BR><em>Expected input:</em> Character *32:  1 to 1 values
<P>
  <PRE>
Specify ONE input map (group.field.channel.polar.type(=0).sequence_number)
</PRE>
<P>

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

<P>.

</BODY> </HTML> 
<HR>

</BODY>
<P><ADDRESS>
newstar@nfra.nl
